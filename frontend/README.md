# Frontend - Ù†Ø¸Ø§Ù… Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ

<div align="center">

![Platform Status](https://img.shields.io/badge/Status-Active%20Development-green)
![React](https://img.shields.io/badge/React-18.3-blue)
![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue)
![Material--UI](https://img.shields.io/badge/Material--UI-5.15-blue)
![Redux](https://img.shields.io/badge/Redux%20Toolkit-2.2-purple)

</div>

---

## ğŸ“¸ Screenshots / Ù„Ù‚Ø·Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø©

### ğŸ” Login Page / ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„

<div dir="rtl">

ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¹ ØªØµÙ…ÙŠÙ… Ø­Ø¯ÙŠØ« ÙŠØ³ØªØ®Ø¯Ù… Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ:
- **Ø§Ù„Ø£Ø®Ø¶Ø± Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ** (#006C35) ÙƒÙ„ÙˆÙ† Ø£Ø³Ø§Ø³ÙŠ
- **Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ** (#C5A572) ÙƒÙ„ÙˆÙ† Ø«Ø§Ù†ÙˆÙŠ
- Ø¯Ø¹Ù… RTL ÙƒØ§Ù…Ù„ Ù„Ù„Ø¹Ø±Ø¨ÙŠØ©
- Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø³Ø±ÙŠØ¹

</div>

```
ğŸ¨ Features:
âœ… Beautiful gradient design
âœ… Show/hide password
âœ… Remember me checkbox
âœ… Form validation
âœ… Test accounts displayed
âœ… Fully responsive
```

**Test Accounts:**
- `admin` / `Admin@123` (Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…)
- `hr.manager` / `Hr@123` (Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø´Ø±ÙŠØ©)
- `it.manager` / `Manager@123` (Ù…Ø¯ÙŠØ±)
- `john.doe` / `Employee@123` (Ù…ÙˆØ¸Ù)

---

### ğŸ  Employee Dashboard / Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙˆØ¸Ù

<div dir="rtl">

Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…ÙˆØ¸Ù ØªØ¹Ø±Ø¶:
- **Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…Ù„ÙˆÙ†Ø©**: Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ù‡Ø¯Ø§ÙØŒ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©ØŒ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª
- **Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù**: Ù…Ø¹ progress bars ÙˆØ­Ø§Ù„Ø© ÙƒÙ„ Ù‡Ø¯Ù
- **Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª**: Ù…Ø¹ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ§Ù„ØªØµÙ†ÙŠÙØ§Øª

</div>

```
ğŸ“Š Dashboard Components:
âœ… Welcome section with user info
âœ… 3 Statistics cards (colored)
âœ… Goals list with progress
âœ… Evaluations list with scores
âœ… Quick actions buttons
âœ… Real-time data from API
```

---

### ğŸ¯ Goals Management / Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù

<div dir="rtl">

Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙŠØªØ¶Ù…Ù†:
- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ù…Ø¹ Ø§Ù„ØªÙØ§ØµÙŠÙ„
- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ù„ÙƒÙ„ Ù‡Ø¯Ù
- Chips Ù…Ù„ÙˆÙ†Ø© Ù„Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ù†ÙˆØ¹
- Ø²Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ù‡Ø¯Ù Ø¬Ø¯ÙŠØ¯

</div>

```
ğŸ¯ Goal Features:
âœ… SMART goals support
âœ… Progress tracking (0-100%)
âœ… Weight validation (total = 100%)
âœ… Status: Draft â†’ Approved â†’ InProgress â†’ Completed
âœ… Types: Strategic, Operational, Development
âœ… Real-time sync with backend
```

---

### ğŸ“ˆ Evaluations Display / Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª

<div dir="rtl">

Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª ÙŠØ´Ù…Ù„:
- Ø§Ù„ÙØªØ±Ø© ÙˆÙ†ÙˆØ¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
- Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© (0-5)
- Ø§Ù„ØªØµÙ†ÙŠÙ (Ù…Ù…ØªØ§Ø²ØŒ ÙÙˆÙ‚ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ØŒ Ù…Ø±Ø¶ÙŠØŒ Ø¥Ù„Ø®)
- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©

</div>

```
ğŸ“ˆ Evaluation Info:
âœ… Period & Type
âœ… Goals Score (60%)
âœ… Behavior Score (30%)
âœ… Initiatives Score (10%)
âœ… Training Impact (Â±0.15/-0.20)
âœ… Final Score & Rating
âœ… Auto PIP creation if < 2.5
```

---

## ğŸš€ Quick Start

### Prerequisites

```bash
# Node.js 18+ required
node --version
# v18.x.x or higher

# npm 9+ required
npm --version
# 9.x.x or higher
```

### Installation

```bash
# Clone the repository
git clone <repository-url>
cd frontend

# Install dependencies
npm install

# Copy environment file
cp .env.example .env.development

# Update API URL in .env.development
VITE_API_URL=http://localhost:5001/api
```

### Running the App

#### Development Mode

```bash
# Start development server
npm run dev

# App runs on http://localhost:3000
```

#### Production Build

```bash
# Build for production
npm run build

# Preview production build
npm run preview
```

#### With Backend (Full Stack)

```bash
# Terminal 1: Start Backend
cd ../backend/src/PerformanceSystem.API
dotnet run
# Backend runs on http://localhost:5001

# Terminal 2: Start Frontend
cd frontend
npm run dev
# Frontend runs on http://localhost:3000
```

---

## ğŸ—ï¸ Project Structure

```
frontend/
â”œâ”€â”€ public/                     # Static assets
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/            # Reusable components
â”‚   â”‚   â”œâ”€â”€ auth/             # Authentication components
â”‚   â”‚   â”‚   â”œâ”€â”€ PrivateRoute.tsx
â”‚   â”‚   â”‚   â””â”€â”€ RoleGuard.tsx
â”‚   â”‚   â””â”€â”€ layout/           # Layout components
â”‚   â”‚       â””â”€â”€ MainLayout.tsx
â”‚   â”œâ”€â”€ pages/                # Page components
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â””â”€â”€ LoginPage.tsx
â”‚   â”‚   â””â”€â”€ employee/
â”‚   â”‚       â””â”€â”€ EmployeeDashboard.tsx
â”‚   â”œâ”€â”€ services/             # API services
â”‚   â”‚   â”œâ”€â”€ api.ts           # Axios instance
â”‚   â”‚   â”œâ”€â”€ authService.ts
â”‚   â”‚   â”œâ”€â”€ goalsService.ts
â”‚   â”‚   â””â”€â”€ evaluationsService.ts
â”‚   â”œâ”€â”€ store/               # Redux store
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ hooks.ts
â”‚   â”‚   â””â”€â”€ slices/
â”‚   â”‚       â”œâ”€â”€ authSlice.ts
â”‚   â”‚       â”œâ”€â”€ goalsSlice.ts
â”‚   â”‚       â”œâ”€â”€ evaluationsSlice.ts
â”‚   â”‚       â”œâ”€â”€ notificationsSlice.ts
â”‚   â”‚       â””â”€â”€ uiSlice.ts
â”‚   â”œâ”€â”€ theme/              # MUI theme
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ i18n/               # Internationalization
â”‚   â”‚   â””â”€â”€ config.ts
â”‚   â”œâ”€â”€ App.tsx             # Main app component
â”‚   â””â”€â”€ main.tsx            # Entry point
â”œâ”€â”€ .env.example            # Environment template
â”œâ”€â”€ .env.development        # Development environment
â”œâ”€â”€ package.json            # Dependencies
â”œâ”€â”€ tsconfig.json           # TypeScript config
â”œâ”€â”€ vite.config.ts          # Vite config
â””â”€â”€ README.md              # This file
```

---

## ğŸ¨ Technology Stack

### Core Technologies

| Technology | Version | Purpose |
|------------|---------|---------|
| **React** | 18.3.1 | UI library |
| **TypeScript** | 5.3.3 | Type safety |
| **Vite** | 5.1.4 | Build tool |
| **Material-UI** | 5.15.11 | Component library |
| **Redux Toolkit** | 2.2.1 | State management |
| **React Router** | 6.22.0 | Routing |
| **Axios** | 1.6.7 | HTTP client |
| **i18next** | 23.10.0 | Internationalization |

### Key Features

- âœ… **RTL Support**: Full right-to-left support for Arabic
- âœ… **Responsive Design**: Works on all screen sizes
- âœ… **Dark Mode Ready**: Theme system supports dark mode
- âœ… **Type Safe**: Full TypeScript coverage
- âœ… **Form Validation**: React Hook Form + Yup
- âœ… **API Integration**: Complete backend integration
- âœ… **Role-Based Access**: RBAC with route guards
- âœ… **i18n**: Arabic & English translations

---

## ğŸ” Authentication Flow

```
1. User enters credentials
   â†“
2. POST /api/auth/login
   â†“
3. Receive JWT token + user data
   â†“
4. Store token in localStorage
   â†“
5. Store user in Redux store
   â†“
6. Set Authorization header
   â†“
7. Redirect based on role:
   - Employee â†’ /employee
   - Manager â†’ /manager
   - HR â†’ /hr
   - Admin â†’ /admin
   - Executive â†’ /executive
```

### Token Management

```typescript
// Auto-refresh on 401
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      localStorage.removeItem('token');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);
```

---

## ğŸ“± Available Pages

### âœ… Implemented

- [x] **Login Page** (`/login`)
- [x] **Employee Dashboard** (`/employee`)
- [x] **Protected Routes** with auth guards
- [x] **Role Guards** for access control

### ğŸš§ Coming Soon

- [ ] **Manager Dashboard** (`/manager`)
- [ ] **HR Dashboard** (`/hr`)
- [ ] **Admin Dashboard** (`/admin`)
- [ ] **Executive Dashboard** (`/executive`)
- [ ] **Goals CRUD** pages
- [ ] **Evaluations CRUD** pages
- [ ] **Reports & Analytics**
- [ ] **User Profile**
- [ ] **Settings**

---

## ğŸ¯ Redux Store Structure

```typescript
{
  auth: {
    user: User | null,
    token: string | null,
    isAuthenticated: boolean,
    loading: boolean,
    error: string | null
  },
  goals: {
    list: Goal[],
    currentGoal: Goal | null,
    loading: boolean,
    error: string | null,
    totalCount: number,
    pageNumber: number,
    pageSize: number
  },
  evaluations: {
    list: Evaluation[],
    currentEvaluation: Evaluation | null,
    loading: boolean,
    error: string | null
  },
  notifications: {
    list: Notification[],
    unreadCount: number,
    loading: boolean
  },
  ui: {
    sidebarOpen: boolean,
    language: 'ar' | 'en',
    theme: 'light' | 'dark'
  }
}
```

---

## ğŸ¨ Theme & Design

### Colors

```typescript
{
  primary: {
    main: '#006C35',    // Saudi Green
    light: '#2E8B57',
    dark: '#004D26'
  },
  secondary: {
    main: '#C5A572',    // Saudi Gold
    light: '#D4BC96',
    dark: '#A68952'
  }
}
```

### Typography

```typescript
{
  fontFamily: {
    ar: "'Cairo', 'Roboto', sans-serif",
    en: "'Roboto', 'Cairo', sans-serif"
  }
}
```

### RTL Support

```typescript
// Automatic RTL based on language
const theme = createAppTheme(language === 'ar' ? 'rtl' : 'ltr');

// Stylis RTL plugin for Emotion
import rtlPlugin from 'stylis-plugin-rtl';
```

---

## ğŸ§ª Testing

```bash
# Run unit tests
npm run test

# Run tests with UI
npm run test:ui

# Run tests with coverage
npm run test:coverage

# Type checking
npm run type-check

# Linting
npm run lint
npm run lint:fix

# Format code
npm run format
```

---

## ğŸ“¦ Building for Production

```bash
# Build
npm run build

# Output in dist/
# Files are optimized and minified

# Preview production build
npm run preview
```

### Docker Build

```bash
# Build Docker image
docker build -t performance-frontend .

# Run container
docker run -p 3000:80 performance-frontend
```

---

## ğŸ”§ Environment Variables

```bash
# .env.development
VITE_API_URL=http://localhost:5001/api
VITE_SSO_CLIENT_ID=dev-client-id
VITE_SSO_REDIRECT_URI=http://localhost:3000/auth/callback
VITE_ENV=development
```

```bash
# .env.production
VITE_API_URL=https://api.performance.gov.sa/api
VITE_SSO_CLIENT_ID=prod-client-id
VITE_SSO_REDIRECT_URI=https://performance.gov.sa/auth/callback
VITE_ENV=production
```

---

## ğŸ› Common Issues & Solutions

### Issue 1: CORS Error

```
Access to XMLHttpRequest blocked by CORS policy
```

**Solution:**
Check backend `appsettings.json`:
```json
{
  "Cors": {
    "AllowedOrigins": ["http://localhost:3000"]
  }
}
```

### Issue 2: 401 Unauthorized

**Solution:**
Check if token is being sent:
```typescript
// services/api.ts
config.headers.Authorization = `Bearer ${token}`;
```

### Issue 3: RTL Not Working

**Solution:**
Ensure RTL cache is set up:
```typescript
import rtlPlugin from 'stylis-plugin-rtl';
const cacheRtl = createCache({
  key: 'muirtl',
  stylisPlugins: [prefixer, rtlPlugin],
});
```

---

## ğŸ“š Documentation

- **Frontend Plan**: `../docs/FRONTEND_PLAN.md`
- **Quick Start Guide**: `QUICKSTART.md`
- **API Documentation**: `../docs/api/API_SPECIFICATION.md`
- **Backend Setup**: `../backend/SETUP.md`

---

## ğŸ¤ Contributing

1. Create a feature branch
2. Make your changes
3. Run tests: `npm run test`
4. Run lint: `npm run lint`
5. Format code: `npm run format`
6. Commit with clear message
7. Create pull request

---

## ğŸ“„ License

Proprietary - Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªÙƒØ´Ù Ù„Ù„Ø§ØªØµØ§Ù„Ø§Øª ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª

---

## ğŸ“ Support

For issues and questions:
- Check `QUICKSTART.md` for quick solutions
- Review `../docs/FRONTEND_PLAN.md` for detailed planning
- See backend logs for API errors

---

<div align="center" dir="rtl">

**Built with â¤ï¸ for Saudi Government Agencies**

**Ù…Ø¨Ù†ÙŠ Ø¨Ø­Ø¨ Ù„Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©**

</div>
